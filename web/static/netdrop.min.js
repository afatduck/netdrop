(()=>{var e={363:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):o===t}))}return!0}},618:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{requestSwitch:()=>F,updateCdir:()=>L,updateError:()=>I,updateItemMenu:()=>R,updateLevel:()=>k,updateMovePath:()=>M,updatePath:()=>_,updateProgress:()=>U,updateUser:()=>x});const o=React;var a=n.n(o);const i=ReactDOM,l=ReactRedux,c=Redux;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){return e.sort((function(e,t){return("dir"==e.type?0:1)-("dir"==t.type?0:1)}))},m=function(e,t){return 0==t?e.substr(0,e.lastIndexOf("/")):e+="/"+t},y=["B","KB","MB","GB"],b=function(e){if(0==e)return"";var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(y);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("GB"==r||e<1024)return Math.round(10*e)/10+r;e/=1024}}catch(e){n.e(e)}finally{n.f()}},h=function(){return{Host:localStorage.getItem("host"),Username:localStorage.getItem("user"),Password:globalThis.ftpPassword,Secure:"true"==localStorage.getItem("secure"),Port:parseInt(localStorage.getItem("port"))}};function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}var j=(0,c.combineReducers)({globals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_SWITCH":return e.request=!e.request,s({},e);case"UPDATE_ERROR":return e.error=t.payload,s({},e);case"UPDATE_LEVEL":return e.state==t.payload||""==t.payload?e:(e.state=t.payload,e.error="",s({},e));case"UPDATE_USER":return e.user=t.payload,s({},e);default:return e}},cdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.payload&&"UPDATE_CDIR"==t.type&&e!=t.payload?Array.isArray(t.payload)?d(t.payload):(e.push(t.payload),d(g(e))):"UPDATE_LEVEL"==t.type?null:e},path:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_PATH"==t.type?-1==t.payload?".":m(e,t.payload):e},movePath:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_MOVEPATH"==t.type?t.payload:e},progress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_PROGRESS"==t.type)switch(null==e&&(e={title:"",speed:"",percentage:0}),S(t.payload)){case"string":return e.title=t.payload,e.percentage=0,e.speed="",E({},e);case"object":return t.payload?(e.percentage=t.payload[0],e.speed=t.payload[1],E({},e)):null}return"UPDATE_LEVEL"==t.type&&"CONNECTING"==t.payload?null:e},itemmenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_LEVEL"==t.type&&"CONNECTING"==t.payload?null:"UPDATE_ITEMMENU"==t.type?t.payload:e}});function P(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var C=P();C.withExtraArgument=P;const N=C;var A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.compose,D=(0,c.createStore)(j,{globals:{state:"CONNECTING",error:"",user:null,request:!1}},(0,c.compose)((0,c.applyMiddleware)(N),A())),T=function(){return a().createElement("button",{onClick:function(){localStorage.clear(),location.reload()},name:"reset",className:"button-small"},"Reset")},I=function(e){return function(t){t({type:"UPDATE_ERROR",payload:e})}},k=function(e){return function(t){t({type:"UPDATE_LEVEL",payload:e})}},x=function(e){return function(t){t({type:"UPDATE_USER",payload:e})}},L=function(e){return function(t){t({type:"UPDATE_CDIR",payload:e})}},_=function(e){return function(t){t({type:"UPDATE_PATH",payload:e})}},U=function(e){return function(t){t({type:"UPDATE_PROGRESS",payload:Array.isArray(e)?[e[0],b(e[1])]:e})}},F=function(){return function(e){e({type:"REQUEST_SWITCH",payload:null})}},R=function(e){return function(t){t({type:"UPDATE_ITEMMENU",payload:e})}},M=function(e){return function(t){t({type:"UPDATE_MOVEPATH",payload:e})}};function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){var e,t,n=(0,l.useDispatch)(),i=(0,c.bindActionCreators)(r,n).updateLevel,u=(e=(0,o.useState)(!0),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],f=u[1],p=function(){f(!0),$.ajax({url:globalThis.apiLocation,type:"GET",timeout:2e4}).fail((function(){f(!1)})).done((function(){i("USING")}))};return(0,o.useEffect)((function(){p()}),[]),a().createElement("div",{className:"text-center center",id:"contact"},a().createElement("h3",null,s?"Connecting to Netdrop API...":"Failed to connect to Netdrop API."),s?a().createElement("div",{className:"loader center mt-5"}):a().createElement("div",null,a().createElement("p",null,"In order to use Netdrop it must connect to its API, the connection is likely failing due to one of the following resons:"),a().createElement("ul",null,a().createElement("li",null,"The app is still in development so the API isn't always avaliable."),a().createElement("li",null,"You don't have internet access."),a().createElement("li",null,"Your browser is blocking requests, in which case you have problems with other websites too.")),a().createElement("button",{type:"button",className:"button-highlight",onClick:function(){p()}},"Try Again")))};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=W(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||W(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=function(){var e=(0,l.useSelector)((function(e){return e.globals.user})),t=(0,l.useDispatch)(),n=(0,c.bindActionCreators)(r,t),i=n.updateLevel,u=n.updateCdir,s=n.updatePath,f=n.updateItemMenu,p=J((0,o.useState)(!1),2),d=p[0],m=p[1],y=J((0,o.useState)(!1),2),b=y[0],h=y[1],g=J((0,o.useState)(!1),2),v=g[0],w=g[1],E=J((0,o.useState)(!1),2),O=E[0],S=E[1],j=J((0,o.useState)(""),2),P=j[0],C=j[1],N=J((0,o.useState)("Saved Connections"),2),A=N[0],D=N[1],T=J((0,o.useState)(""),2),I=T[0],k=T[1],x=J((0,o.useState)({host:localStorage.getItem("host")||"",user:localStorage.getItem("user")||"",password:"",secure:"true"==localStorage.getItem("secure"),port:localStorage.getItem("port")||("true"==localStorage.getItem("secure")?"990":"21")}),2),L=x[0],_=x[1];(0,o.useEffect)((function(){$(document).click((function(e){var t=$(".dropdown");t.is(e.target)||t.has(e.target).length||S(!1),(t=$("#item-menu")).is(e.target)||t.has(e.target).length||f(null)}))}),[]),(0,o.useEffect)((function(){C("")}),[b]);var U=function(t){var n=parseInt(t.currentTarget.getAttribute("data-id")),r=e.credentials[n];_({host:r.host,user:r.username,password:r.password,secure:r.secure,port:r.port.toString()}),D(r.name)},F=[];if(e)for(var R in e.credentials){var M=e.credentials[R];F.push(a().createElement("div",{"data-id":R,onClick:U},a().createElement("p",{style:{lineHeight:0}},M.name),a().createElement("p",{style:{fontSize:"50%",lineHeight:0}},M.host)))}var G=function(e){var t=e.target,n=t.value,r=t.name,o=t.checked;_((function(e){return"secure"!=r||"21"!=L.port&&"990"!=L.port||(e.port=o?"990":"21"),e[r]="secure"==r?o:n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))},z=function(t){t.preventDefault(),0!=L.host.length?(m(!0),$.ajax({url:globalThis.apiLocation+"listdir",type:"post",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify({Host:L.host,Username:L.user,Password:L.password,Secure:L.secure,Port:parseInt(L.port),Path:"/"})}).fail((function(){i("CONNECTING")})).done((function(t){m(!1),t.result?(C(""),u(t.dirList),s(-1),localStorage.setItem("user",L.user),localStorage.setItem("host",L.host),localStorage.setItem("secure",L.secure?"true":"false"),localStorage.setItem("port",L.port),globalThis.ftpPassword=L.password,function(){if(!e)return!1;var t,n=q(e.credentials);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.host==L.host&&r.password==L.password&&r.username==L.user&&L.port==r.port.toString())return!1}}catch(e){n.e(e)}finally{n.f()}return!0}()?w(!0):h(!1)):C(t.errors[0])}))):C("Host field is required.")},W=function(e){k(e.target.value)},V=function(t){if(t.preventDefault(),I)if("Saved Connections"!=I){var n,r=q(e.credentials);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(I==o.name)return void C("Name already used.")}}catch(e){r.e(e)}finally{r.f()}m(!0),$.ajax({url:globalThis.apiLocation+"newcred",type:"POST",timeout:1e4,contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},data:JSON.stringify({Name:I,Host:L.host,Username:L.user,Password:L.password,Secure:L.secure,Port:parseInt(L.port)})}).done((function(){h(!1),w(!1),e.credentials.push({name:I,host:L.host,username:L.user,password:L.password,secure:L.secure,port:parseInt(L.port)})})).fail((function(){i("CONNECTING")})).always((function(){m(!1)}))}else C("Not this one.");else C("A name is required.")};return a().createElement("div",{id:"nav-login"},a().createElement("button",{className:"button-small button-highlight ml-auto",type:"button",onClick:function(){h(!0),w(!1)}},"New Connection"),function(){if(b)return a().createElement("div",{className:"overlay"},v?a().createElement("form",{onSubmit:V},a().createElement("i",{className:"fas fa-times",onClick:function(){h(!1)}}),a().createElement("h2",null,"Save connection?"),a().createElement("div",null,a().createElement("label",{htmlFor:"ftp_save_input"},"Connection Name:"),a().createElement("input",{type:"text",name:"name",placeholder:"Connection Name",id:"ftp_name_input",autoComplete:"ftpname",value:I,onChange:W})),a().createElement("p",{className:"text-error"},P),d?a().createElement("div",{className:"loader"}):a().createElement("button",{type:"submit",id:"save_button",className:"button-highlight"},"Save")):a().createElement("form",{className:"bg-white d-flex flex-column",onSubmit:z},a().createElement("i",{className:"fas fa-times",onClick:function(){h(!1)}}),a().createElement("div",{className:""},a().createElement("label",{htmlFor:"ftp_host_input"},"Host:"),a().createElement("input",{type:"text",className:"",name:"host",placeholder:"Host",id:"ftp_host_input",autoComplete:"ftphost",value:L.host,onChange:G})),a().createElement("div",{className:""},a().createElement("label",{htmlFor:"ftp_user_input"},"Username:"),a().createElement("input",{type:"text",className:"",name:"user",placeholder:"Username",id:"ftp_user_input",autoComplete:"ftpuser",value:L.user,onChange:G})),a().createElement("div",{className:""},a().createElement("label",{htmlFor:"ftp_password_input"},"Password:"),a().createElement("input",{type:"password",className:"",name:"password",placeholder:"Password",id:"ftp_password_input",autoComplete:"ftppassword",value:L.password,onChange:G})),a().createElement("div",{style:{width:"25%"}},a().createElement("label",{htmlFor:"ftp_port_input"},"Port:"),a().createElement("input",{type:"number",className:"form-control",name:"port",placeholder:"Port",id:"ftp_port_input",autoComplete:"ftpport",value:L.port,onChange:G})),a().createElement("label",{className:"",htmlFor:"ftp_secure_check",style:{display:"inline-block",width:"fit-content"}},"Implicit FTPS",a().createElement("input",{type:"checkbox",className:"m-2",name:"secure",id:"ftp_secure_check",checked:L.secure,onChange:G})),e?a().createElement("button",{type:"button",className:"dropdown",onClick:function(){S(!O)}},A,a().createElement("i",{className:"fas fa-angle-".concat(O?"down":"up"," mt-1")}),a().createElement("section",{style:O?null:{display:"none"}},F)):null,a().createElement("p",{className:"text-error mt-3"},P),d?a().createElement("div",{className:"loader ml-auto mr-auto"}):a().createElement("button",{type:"submit",id:"login_button",className:"btn btn-primary"},"Connect")))}())},Y=n(697),X=n.n(Y);function Q(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function l(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((r=r.apply(e,t||[])).next())}))}function Z(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function ee(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}Object.create,Object.create;var te=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function ne(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=te.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var re=[".DS_Store","Thumbs.db"];function oe(e){return(null!==e.target&&e.target.files?le(e.target.files):[]).map((function(e){return ne(e)}))}function ae(e,t){return Q(this,void 0,void 0,(function(){var n;return Z(this,(function(r){switch(r.label){case 0:return e.items?(n=le(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(ce))]):[3,2];case 1:return[2,ie(ue(r.sent()))];case 2:return[2,ie(le(e.files).map((function(e){return ne(e)})))]}}))}))}function ie(e){return e.filter((function(e){return-1===re.indexOf(e.name)}))}function le(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function ce(e){if("function"!=typeof e.webkitGetAsEntry)return se(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?pe(t):se(e)}function ue(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ee(arguments[t]));return e}(e,Array.isArray(t)?ue(t):[t])}),[])}function se(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=ne(t);return Promise.resolve(n)}function fe(e){return Q(this,void 0,void 0,(function(){return Z(this,(function(t){return[2,e.isDirectory?pe(e):de(e)]}))}))}function pe(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function o(){var a=this;t.readEntries((function(t){return Q(a,void 0,void 0,(function(){var a,i,l;return Z(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=c.sent(),e(a),[3,4];case 3:return i=c.sent(),n(i),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(fe)),r.push(l),o(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function de(e){return Q(this,void 0,void 0,(function(){return Z(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=ne(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var me=n(363);function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},ge=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},ve=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},we={code:"too-many-files",message:"Too many files"};function Ee(e,t){var n="application/x-moz-file"===e.type||(0,me.Z)(e,t);return[n,n?null:he(t)]}function Oe(e,t,n){if(Se(e.size))if(Se(t)&&Se(n)){if(e.size>n)return[!1,ge(n)];if(e.size<t)return[!1,ve(t)]}else{if(Se(t)&&e.size<t)return[!1,ve(t)];if(Se(n)&&e.size>n)return[!1,ge(n)]}return[!0,null]}function Se(e){return null!=e}function je(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,a=e.multiple,i=e.maxFiles;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every((function(e){var t=ye(Ee(e,n),1)[0],a=ye(Oe(e,r,o),1)[0];return t&&a}))}function Pe(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Ce(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Ne(e){e.preventDefault()}function Ae(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function De(e){return-1!==e.indexOf("Edge/")}function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Ae(e)||De(e)}function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.some((function(t){return!Pe(e)&&t&&t.apply(void 0,[e].concat(r)),Pe(e)}))}}var ke=["children"],xe=["open"],Le=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_e=["refKey","onChange","onClick"];function Ue(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||Re(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var He=(0,o.forwardRef)((function(e,t){var n=e.children,r=We(Be(e,ke)),i=r.open,l=Be(r,xe);return(0,o.useImperativeHandle)(t,(function(){return{open:i}}),[i]),a().createElement(o.Fragment,null,n(Ge(Ge({},l),{},{open:i})))}));He.displayName="Dropzone";var qe={disabled:!1,getFilesFromEvent:function(e){return Q(this,void 0,void 0,(function(){return Z(this,(function(t){return[2,(n=e,n.dataTransfer&&e.dataTransfer?ae(e.dataTransfer,e.type):oe(e))];var n}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};He.defaultProps=qe,He.propTypes={children:X().func,accept:X().oneOfType([X().string,X().arrayOf(X().string)]),multiple:X().bool,preventDropOnDocument:X().bool,noClick:X().bool,noKeyboard:X().bool,noDrag:X().bool,noDragEventsBubbling:X().bool,minSize:X().number,maxSize:X().number,maxFiles:X().number,disabled:X().bool,getFilesFromEvent:X().func,onFileDialogCancel:X().func,onDragEnter:X().func,onDragLeave:X().func,onDragOver:X().func,onDrop:X().func,onDropAccepted:X().func,onDropRejected:X().func,validator:X().func};var Je={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ge(Ge({},qe),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,l=t.minSize,c=t.multiple,u=t.maxFiles,s=t.onDragEnter,f=t.onDragLeave,p=t.onDragOver,d=t.onDrop,m=t.onDropAccepted,y=t.onDropRejected,b=t.onFileDialogCancel,h=t.preventDropOnDocument,g=t.noClick,v=t.noKeyboard,w=t.noDrag,E=t.noDragEventsBubbling,O=t.validator,S=(0,o.useRef)(null),j=(0,o.useRef)(null),P=(0,o.useReducer)(Ve,Je),C=Fe(P,2),N=C[0],A=C[1],D=N.isFocused,T=N.isFileDialogActive,I=N.draggedFiles,k=(0,o.useCallback)((function(){j.current&&(A({type:"openDialog"}),j.current.value=null,j.current.click())}),[A]),x=function(){T&&setTimeout((function(){j.current&&(j.current.files.length||(A({type:"closeDialog"}),"function"==typeof b&&b()))}),300)};(0,o.useEffect)((function(){return window.addEventListener("focus",x,!1),function(){window.removeEventListener("focus",x,!1)}}),[j,T,b]);var L=(0,o.useCallback)((function(e){S.current&&S.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),k()))}),[S,j]),_=(0,o.useCallback)((function(){A({type:"focus"})}),[]),U=(0,o.useCallback)((function(){A({type:"blur"})}),[]),F=(0,o.useCallback)((function(){g||(Te()?setTimeout(k,0):k())}),[j,g]),R=(0,o.useRef)([]),$=function(e){S.current&&S.current.contains(e.target)||(e.preventDefault(),R.current=[])};(0,o.useEffect)((function(){return h&&(document.addEventListener("dragover",Ne,!1),document.addEventListener("drop",$,!1)),function(){h&&(document.removeEventListener("dragover",Ne),document.removeEventListener("drop",$))}}),[S,h]);var M=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),W(e),R.current=[].concat(Ue(R.current),[e.target]),Ce(e)&&Promise.resolve(a(e)).then((function(t){Pe(e)&&!E||(A({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),s&&s(e))}))}),[a,s,E]),G=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),W(e);var t=Ce(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&p&&p(e),!1}),[p,E]),z=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),W(e);var t=R.current.filter((function(e){return S.current&&S.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),R.current=t,t.length>0||(A({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Ce(e)&&f&&f(e))}),[S,f,E]),B=(0,o.useCallback)((function(e){e.preventDefault(),e.persist(),W(e),R.current=[],Ce(e)&&Promise.resolve(a(e)).then((function(t){if(!Pe(e)||E){var r=[],o=[];t.forEach((function(e){var t=Fe(Ee(e,n),2),a=t[0],c=t[1],u=Fe(Oe(e,l,i),2),s=u[0],f=u[1],p=O?O(e):null;if(a&&s&&!p)r.push(e);else{var d=[c,f];p&&(d=d.concat(p)),o.push({file:e,errors:d.filter((function(e){return e}))})}})),(!c&&r.length>1||c&&u>=1&&r.length>u)&&(r.forEach((function(e){o.push({file:e,errors:[we]})})),r.splice(0)),A({acceptedFiles:r,fileRejections:o,type:"setFiles"}),d&&d(r,o,e),o.length>0&&y&&y(o,e),r.length>0&&m&&m(r,e)}})),A({type:"reset"})}),[c,n,l,i,u,a,d,m,y,E,O]),H=function(e){return r?null:e},q=function(e){return v?null:H(e)},J=function(e){return w?null:H(e)},W=function(e){E&&e.stopPropagation()},V=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,o=e.onKeyDown,a=e.onFocus,i=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,s=e.onDragLeave,f=e.onDrop,p=Be(e,Le);return Ge(Ge(ze({onKeyDown:q(Ie(o,L)),onFocus:q(Ie(a,_)),onBlur:q(Ie(i,U)),onClick:H(Ie(l,F)),onDragEnter:J(Ie(c,M)),onDragOver:J(Ie(u,G)),onDragLeave:J(Ie(s,z)),onDrop:J(Ie(f,B))},n,S),r||v?{}:{tabIndex:0}),p)}}),[S,L,_,U,F,M,G,z,B,v,w,r]),K=(0,o.useCallback)((function(e){e.stopPropagation()}),[]),Y=(0,o.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,o=e.onChange,a=e.onClick,i=Be(e,_e),l=ze({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:H(Ie(o,B)),onClick:H(Ie(a,K)),autoComplete:"off",tabIndex:-1},r,j);return Ge(Ge({},l),i)}}),[j,n,c,B,r]),X=I.length,Q=X>0&&je({files:I,accept:n,minSize:l,maxSize:i,multiple:c,maxFiles:u}),Z=X>0&&!Q;return Ge(Ge({},N),{},{isDragAccept:Q,isDragReject:Z,isFocused:D&&!r,getRootProps:V,getInputProps:Y,rootRef:S,inputRef:j,open:H(k)})}function Ve(e,t){switch(t.type){case"focus":return Ge(Ge({},e),{},{isFocused:!0});case"blur":return Ge(Ge({},e),{},{isFocused:!1});case"openDialog":return Ge(Ge({},e),{},{isFileDialogActive:!0});case"closeDialog":return Ge(Ge({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return Ge(Ge({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return Ge(Ge({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Ge({},Je);default:return e}}var Ke=function(e){D.dispatch({type:"UPDATE_ERROR",payload:e})},Ye=function(e){D.dispatch({type:"UPDATE_PROGRESS",payload:Array.isArray(e)?[e[0],b(e[1])]:e})},Xe=function(e){D.dispatch({type:"UPDATE_LEVEL",payload:e})};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=Ke,nt=function(e){D.dispatch({type:"UPDATE_CDIR",payload:e})},rt=Xe,ot=function(e){D.dispatch({type:"UPDATE_PATH",payload:e})},at=function(){D.dispatch({type:"REQUEST_SWITCH",payload:null})},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.getState().path,t=D.getState().path,n=D.getState().globals.request;if(!n)return at(),$.ajax(globalThis.apiLocation+"listdir",{type:"POST",data:JSON.stringify(Ze(Ze({},h()),{},{Path:e})),processData:!1,contentType:"application/json; charset=utf-8"}).done((function(n){n.result?(nt(n.dirList),tt(""),e!=t&&($("#hold-table section")[0].scrollTop=0,ot(t.length>e.length?0:e.substr(e.lastIndexOf("/")+1)))):tt(n.errors[0])})).fail((function(){rt("CONNECTING")})).always((function(){at()}))};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut=function(e){var t=D.getState().path,n=Ke,r=Ye,o=Xe;if(e.length){for(var a,i=!1,l=new FormData,c=0;c<e.length;c++)e[c].size&&(i=!0,a=e[c].path?e[c].path.replace("/",""):e[c].webkitRelativePath?e[c].webkitRelativePath:e[c].name,l.append("files",e[c],a));i?(l.append("dataJson",JSON.stringify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Path:t.substr(1)},h()))),r("Uploading Files"),$.ajax({xhr:function(){var e=performance.now(),t=0,n=new window.XMLHttpRequest;return n.upload.addEventListener("progress",(function(n){if(n.lengthComputable){var o=Math.trunc(n.loaded/n.total*100);100==o&&r("Copying Files..."),r([o,(n.loaded-t)/((performance.now()-e)/1e3)]),e=performance.now(),t=n.loaded}}),!1),n},type:"POST",url:globalThis.apiLocation+"upload",contentType:!1,processData:!1,data:l}).fail((function(){o("CONNECTING")})).done((function(e){if(!e.result)return n(e.errors.join("\n")),void r(null);var t;r("Transfering Files"),t=setInterval((function(){$.ajax({url:globalThis.apiLocation+"uploadprogress",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(e.code)}).done((function(e){if(-1==e.done||100==e.done)return clearInterval(t),r(null),n(-1==e.done?"Something went wrong.":""),void it();r([e.done,e.speed])})).fail((function(){o("CONNECTING")}))}),750)})).fail((function(){o("CONNECTING")}))):n("File".concat(e.length>1?"s":""," empty."))}},st=n(729),ft=n.n(st);function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=function(e,t){var n,r,o,a=Ke,i=Ye,l=Xe,c=D.getState().path;i("Starting Download"),i([101,0]),$.ajax(globalThis.apiLocation+"download",{type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(dt(dt({},h()),{},{Path:c.substr(1)+"/"+e}))}).done((function(c){c.result?(a(""),n=c.url,r=c.mime,i("Getting File"+(t?"s":"")),o=setInterval((function(){$.ajax(globalThis.apiLocation+"downloadprogress",{type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(n)}).done((function(l){if(!l.result)return a("Failed to get file".concat(t?"s":"",".")),i(null),void clearInterval(o);if(i([l.done,l.speed]),l.complete){clearInterval(o),i("Downloading File"+(t?"s":""));var c=performance.now(),u=0,s=new XMLHttpRequest;return s.addEventListener("progress",(function(e){try{i([Math.round(e.loaded/e.total*100),(e.loaded-u)/((performance.now()-c)/1e3)])}catch(e){}c=performance.now(),u=e.loaded})),s.onreadystatechange=function(){4===s.readyState&&(2==Math.trunc(s.status/100)?setTimeout((function(){ft()(s.response,e+(t?".zip":""),r)}),0):a("Something went wrong."),i(null))},s.responseType="blob",s.open("get",globalThis.apiLocation+n+(t?".zip":"")),s.setRequestHeader("Accept","*/*"),void s.send()}100==l.done&&(i("Compressing Files"),i([101,0]))})).fail((function(){l("CONNECTING"),clearInterval(o)}))}),750)):a(c.errors[0])})).fail((function(){l("CONNECTING")}))};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt=function(){var e,t,n=(0,l.useSelector)((function(e){return e})),i=n.path,u=n.movePath,s=(0,l.useDispatch)(),f=(0,c.bindActionCreators)(r,s),p=f.updateMovePath,d=f.updateError,m=f.updateLevel,y=(e=(0,o.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),b=y[0],g=y[1];return b?a().createElement("div",{className:"loader mr-4 ml-auto"}):a().createElement("button",{className:"button-small mr-2 ml-auto",disabled:!u,name:"move",onClick:function(){g(!0),$.ajax({type:"POST",url:globalThis.apiLocation+"move",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(ht(ht({},h()),{},{Source:u,Destination:i.substr(2)+"/"+name+u.substr(u.lastIndexOf("/"))}))}).fail((function(){m("CONNECTING")})).done((function(e){g(!1),e.result?(it(),d(""),p(null)):d(e.errors[0])}))}},"Paste")};function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ct=function(){var e=(0,l.useSelector)((function(e){return e.path})),t=(0,l.useSelector)((function(e){return e.globals.request})),n=(0,l.useDispatch)(),i=(0,c.bindActionCreators)(r,n),u=i.updateError,s=i.updateLevel,f=jt((0,o.useState)(""),2),p=f[0],d=f[1],m=jt((0,o.useState)(!1),2),y=m[0],b=m[1],g=jt((0,o.useState)(!1),2),v=g[0],w=g[1],E=function(t){p&&(b(!0),$.ajax({url:globalThis.apiLocation+t.currentTarget.name,processData:!1,contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify(Ot(Ot({},h()),{},{Path:e.substr(1)+"/"+p}))}).fail((function(){s("CONNECTING")})).done((function(e){b(!1),e.result?(it(),u(""),w(!1)):u(e.errors[0])})))},O=function(e){ut(e.target.files)},S=function(e){e.target!=e.currentTarget&&e.currentTarget.click()};return(0,o.useEffect)((function(){$("#uploaddir").attr("directory",""),$("#uploaddir").attr("webkitdirectory",""),$("#uploaddir").attr("mozdirectory","")})),a().createElement("div",{id:"add-tab"},a().createElement("div",{className:"loader",style:{display:t?"block":"none"}}),a().createElement(wt,null),a().createElement("button",{className:"button-small mr-2",onClick:function(){it()}},"Refresh"),a().createElement("button",{className:"button-small",onClick:function(){w(!0)}},"Add +"),v?a().createElement("div",{id:"tab-overlay"},a().createElement("div",{id:"add-inner"},a().createElement("i",{className:"fas fa-times",onClick:function(){w(!1)}}),a().createElement("form",{onSubmit:function(e){e.preventDefault()}},a().createElement("div",null,a().createElement("label",{htmlFor:"new-item-input"},"Create new: "),a().createElement("input",{id:"new-item-input",type:"text",value:p,onChange:function(e){d(e.target.value)}})),y?a().createElement("div",{className:"loader center mt-3"}):a().createElement("div",{className:"buttons"},a().createElement("button",{type:"button",name:"createfile",className:"button-outline",disabled:""==p,onClick:E},"Empty File"),a().createElement("button",{type:"button",name:"createdir",className:"button-outline",disabled:""==p,onClick:E},"Directory"))),a().createElement("h5",{className:"text-center mt-5"},"OR"),a().createElement("p",{style:{fontSize:"1.6rem",fontWeight:700}},"Upload: "),a().createElement("input",{type:"file",id:"uploadfiles",name:"files",onChange:O,multiple:!0}),a().createElement("input",{type:"file",id:"uploaddir",name:"dir",onChange:O}),a().createElement("div",{className:"buttons"},a().createElement("label",{htmlFor:"uploadfiles",onClick:S},a().createElement("button",{type:"button",name:"uploadfiles",className:"button-outline"},"Files")),a().createElement("label",{htmlFor:"uploaddir",onClick:S},a().createElement("button",{type:"button",name:"uploaddir",className:"button-outline"},"Directory"))),a().createElement("blockquote",{style:{margin:"3rem 0 0 0"}},a().createElement("em",null,"Note: Uploading directories is not supported by all browsers.")))):null)};function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var At=function(){var e=(0,l.useSelector)((function(e){return e})),t=e.cdir,n=e.path,i=e.globals,u=(0,l.useDispatch)(),s=(0,c.bindActionCreators)(r,u).updateItemMenu,f=We({onDrop:(0,o.useCallback)((function(e){ut(e)}),[])}),p=f.getRootProps,d=f.getInputProps;if(!t)return a().createElement("div",{id:"no-connection"},a().createElement("h2",null,"Not connected to FTP server."),a().createElement("p",null,'Press the "new connection" button to start using the app.'));var y,h=function(e){var t=e.currentTarget.getAttribute("data-dir");it(m(n,t).substr(2))},g=function(e){var t=e.currentTarget.getAttribute("data-dir");yt(t,!1)},v=function(e){if(e.stopPropagation(),e.preventDefault(),!i.request){var n=parseInt(e.currentTarget.getAttribute("data-id"));s({x:e.clientX,y:e.clientY,item:t[n]})}},w="."==n?[]:[a().createElement("tr",{className:"dir-item","data-dir":0,onClick:h,style:{cursor:"pointer"}},a().createElement("td",null,".."),a().createElement("td",null),a().createElement("td",null),a().createElement("td",null))],E=0,O=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(O.s();!(y=O.n()).done;){var S=y.value;w.push(a().createElement("tr",{className:"dir-item","data-dir":S.name,"data-id":E,onClick:"dir"==S.type?h:g,onContextMenu:v,style:{cursor:"pointer"}},a().createElement("td",null,S.name),a().createElement("td",null,"file"==S.type?b(parseInt(S.size))||"0B":"-"),a().createElement("td",null,S.modify),a().createElement("td",null,a().createElement("i",{className:"fas fa-bars","data-id":E,onClick:v})))),E++}}catch(e){O.e(e)}finally{O.f()}return a().createElement("div",{id:"dir-root"},a().createElement(Ct,null),a().createElement("div",{id:"hold-table"},a().createElement("div",p({className:"dropzone-root"}),a().createElement("h3",null,"DROP HERE TO UPLOAD")),a().createElement("section",null,a().createElement("table",{id:"dir-table"},a().createElement("thead",null,a().createElement("tr",null,a().createElement("th",null,"Name"),a().createElement("th",null,"Size"),a().createElement("th",null,"Modify"),a().createElement("th",null))),a().createElement("tbody",null,w)))),a().createElement("blockquote",null,a().createElement("em",null,n.substr(1)||"/")),a().createElement("input",d({onClick:function(e){return e.preventDefault()}})))};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xt=function(e){var t=(0,l.useDispatch)(),n=(0,c.bindActionCreators)(r,t),i=n.updateUser,u=n.updateLevel,s=It((0,o.useState)("Sign In"),2),f=s[0],p=s[1],d=It((0,o.useState)(!1),2),m=d[0],y=d[1],b=It((0,o.useState)(""),2),h=b[0],g=b[1],v=It((0,o.useState)({user:"",password:"",repeat:""}),2),w=v[0],E=v[1],O=function(e){g("");var t=e.target,n=t.name,r=t.value;E((function(e){return e[n]=r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))};return a().createElement("div",{className:"overlay"},a().createElement("form",{onSubmit:function(t){t.preventDefault(),m||(w.password.length*w.user.length*("Sign In"==f?1:w.repeat.length)!=0?w.password==w.repeat||"Sign In"==f?(g(""),y(!0),$.ajax({url:globalThis.apiLocation+("Sign In"==f?"login":"register"),type:"POST",contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4,data:JSON.stringify({Username:w.user,Password:w.password})}).done((function(t){if(y(!1),t.result)return i(t.userData),e.close(!1),void localStorage.setItem("logged-in","true");g(t.errors[0])})).fail((function(){u("CONNECTING")}))):g("Passwords do not match."):g("Can't have empty fields."))}},a().createElement("i",{className:"fas fa-times",onClick:function(){e.close(!1)}}),a().createElement("div",null,a().createElement("label",{htmlFor:"account_username_input"},"Username:"),a().createElement("input",{type:"text",name:"user",placeholder:"Username",id:"account_user_input",value:w.user,onChange:O})),a().createElement("div",null,a().createElement("label",{htmlFor:"account_password_input"},"Password:"),a().createElement("input",{type:"password",name:"password",placeholder:"Password",id:"account_password_input",value:w.password,onChange:O})),"Sign In"==f?null:a().createElement("div",null,a().createElement("label",{htmlFor:"account_repeat_input"},"Repeat Password:"),a().createElement("input",{type:"password",name:"repeat",placeholder:"Repeat password",id:"account_repeat_input",value:w.repeat,onChange:O})),"Sign In"==f?a().createElement("button",{type:"button",className:"button-small black ml-auto mb-2",onClick:function(){p("Sign Up")}},"Don't have an account"):a().createElement("button",{type:"button",className:"button-small black ml-auto mb-2",onClick:function(){p("Sign In")}},"Already have an account"),a().createElement("p",{className:"text-error"},h),m?a().createElement("div",{className:"loader center"}):a().createElement("button",{type:"submit",id:"account_button"},f)))};function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rt=function(){var e=(0,l.useDispatch)(),t=(0,c.bindActionCreators)(r,e),n=t.updateUser,i=t.updateLevel,u=(0,l.useSelector)((function(e){return e.globals})).user,s=Ut((0,o.useState)(null),2),f=s[0],p=s[1],d=Ut((0,o.useState)(!1),2),m=d[0],y=d[1],b=Ut((0,o.useState)(!1),2),h=b[0],g=b[1],v=Ut((0,o.useState)(!1),2),w=v[0],E=v[1],O=Ut((0,o.useState)(""),2),S=O[0],j=O[1],P=Ut((0,o.useState)("Saved Connections"),2),C=P[0],N=P[1],A=Ut((0,o.useState)({new:"",cpwd:""}),2),D=A[0],T=A[1];(0,o.useEffect)((function(){T({new:"",cpwd:""}),j(""),y(!1)}),[f]),(0,o.useEffect)((function(){N("Saved Connections"),E(!1)}),[h]),(0,o.useEffect)((function(){$(document).click((function(e){var t=$(".dropdown");t.is(e.target)||t.has(e.target).length||E(!1)}))}),[]);var I=function(e){var t=parseInt(e.currentTarget.getAttribute("data-id")),n=u.credentials[t];N(n.name)},k=[];if(u)for(var x in u.credentials){var L=u.credentials[x];k.push(a().createElement("div",{"data-id":x,onClick:I},a().createElement("p",{style:{lineHeight:0}},L.name),a().createElement("p",{style:{fontSize:"50%",lineHeight:0}},L.host)))}var _=function(e){var t=e.target,n=t.name,r=t.value;T((function(e){return e[n]=r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)}))};return a().createElement("u",{id:"username",onClick:function(){g(!0)}},a().createElement("span",null,u.username),h?a().createElement("div",{className:"overlay"},a().createElement("div",{id:"profile"},a().createElement("i",{className:"fas fa-times",onClick:function(e){e.stopPropagation(),g(!1),p(null)}}),a().createElement("h2",null,u.username," ",a().createElement("i",{className:"fas fa-pen",onClick:function(){p("CUN")}})),a().createElement("div",{className:"buttons"},a().createElement("button",{type:"button",className:"button-outline",name:"change_password",onClick:function(){p("CPW")}},"Change password"),a().createElement("button",{type:"button",className:"button-outline",name:"delete_profile",onClick:function(){p("DEL")}},"Delete profile")),a().createElement("blockquote",null,a().createElement("em",null,"Note: Changing username or password will sign you out from all other devices.")),a().createElement("div",{className:"buttons"},a().createElement("button",{type:"button",className:"dropdown",onClick:function(){E(!w)}},C,a().createElement("i",{className:"fas fa-angle-".concat(w?"down":"up"," mt-1")}),a().createElement("section",{style:w?null:{display:"none"}},k)),m?a().createElement("div",{className:"loader center"}):a().createElement("button",{type:"button",className:"button-clear",name:"remove_cred",onClick:function(){y(!0),$.ajax({url:globalThis.apiLocation+"removecred",type:"POST",timeout:1e4,contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},data:JSON.stringify(C)}).done((function(){var e=u.credentials;e=e.filter((function(e){return e.name!=C}));var t=u;u.credentials=e,n(t),N("Saved Connections")})).fail((function(){i("CONNECTING")})).always((function(){y(!1)}))},disabled:"Saved Connections"==C},"Remove Credential")),f?a().createElement("div",{className:"overlay"},a().createElement("form",{onSubmit:function(e){e.preventDefault(),y(!0),$.ajax({url:globalThis.apiLocation+f,type:"POST",timeout:1e4,contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},data:JSON.stringify({Old:D.cpwd,New:D.new})}).done((function(e){if(e.result){if("CUN"==f){var t=u;t.username=D.new,n(t)}"DEL"==f&&n(null),p(null)}else j(e.errors.join("\n"))})).fail((function(){i("CONNECTING")})).always((function(){y(!1)}))}},a().createElement("i",{className:"fas fa-times",onClick:function(e){e.stopPropagation(),m||p(null)}}),a().createElement("h2",null,function(e){switch(e){case"DEL":return"Delete account";case"CUN":return"Change username";case"CPW":return"Change password"}}(f)),a().createElement("div",null,a().createElement("label",{htmlFor:"profile_cpwd_input"},"Current Password:"),a().createElement("input",{type:"password",name:"cpwd",placeholder:"Current Password",id:"profile_cpwd_input",value:D.cpwd,onChange:_})),"DEL"==f?null:a().createElement("div",null,a().createElement("label",{htmlFor:"profile_new_input"},"CUN"==f?"New Username":"New Password",":"),a().createElement("input",{type:"CUN"==f?"text":"password",name:"new",placeholder:"CUN"==f?"New Username":"New Password",id:"profile_new_input",value:D.new,onChange:_})),a().createElement("p",{className:"text-error"},S),m?a().createElement("div",{className:"loader center"}):a().createElement("button",{type:"submit",className:"button-highlight"},"DEL"==f?"Delete":"Change"))):null)):null)};function $t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gt=function(){var e=(0,l.useSelector)((function(e){return e.globals.user})),t=(0,l.useDispatch)(),n=(0,c.bindActionCreators)(r,t),i=n.updateUser,u=n.updateLevel,s=$t((0,o.useState)(!1),2),f=s[0],p=s[1],d=$t((0,o.useState)(!1),2),m=d[0],y=d[1];return(0,o.useEffect)((function(){localStorage.getItem("logged-in")&&(p(!0),$.ajax({url:globalThis.apiLocation+"logininfo",type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4}).done((function(e){i(e)})).always((function(){p(!1)})))}),[]),a().createElement("div",{id:"nav-account"},m?a().createElement(xt,{close:y}):null,a().createElement("span",{className:"mr-3"},e?a().createElement(Rt,null):"Not logged in"),f?a().createElement("div",{className:"loader"}):a().createElement("button",{type:"button",className:"button-small button-outline",onClick:function(){if(e)return p(!0),void $.ajax({url:globalThis.apiLocation+"logout",type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4}).done((function(){localStorage.removeItem("logged-in"),i(null)})).fail((function(){u("CONNECTING")})).always((function(){p(!1)}));y(!0)}},e?"Sign out":"Sign in"))};function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bt=function(){var e,t,n=(e=(0,o.useState)("dark"!=$("html")[0].getAttribute("data-theme")),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],i=n[1];return a().createElement("i",{className:"fas "+(r?"fa-sun":"fa-moon"),id:"theme-button",onClick:function(){i(!r);var e=r?"dark":"light";$("html").attr("data-theme",e),localStorage.setItem("theme",e)}})},Ht=function(){var e=(0,l.useSelector)((function(e){return e.progress}));return null!=e?a().createElement("div",{className:"progressOverlay"},a().createElement("div",{className:"progress-bg ml-auto mr-auto"},a().createElement("h2",{className:"mb-3"},e.title),a().createElement("p",{className:"mt-4"},e.speed?e.speed+"/s":""),a().createElement("div",{className:"progress"},a().createElement("div",{className:"bar",style:{width:Math.min(e.percentage,100)+"%"}},101!=e.percentage?a().createElement("span",null,e.percentage,"%"):null)))):null};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e){var t=e.name,n=e.setLoading,o=(0,l.useSelector)((function(e){return e})),i=o.path,u=o.cdir,s=(0,l.useDispatch)(),f=(0,c.bindActionCreators)(r,s),p=f.updateError,d=f.updateCdir,m=f.updateLevel,y=f.updateItemMenu;return a().createElement("button",{type:"button",className:"button-clear",name:"delete",onClick:function(e){e.stopPropagation(),n(!0),$.ajax({type:"POST",url:globalThis.apiLocation+"delete",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(Jt(Jt({},h()),{},{Path:i.substr(2)+"/"+t}))}).fail((function(){m("CONNECTING")})).done((function(e){n(!1),y(null),e.result?(d(u.filter((function(e){return e.name!=t}))),p("")):p(e.errors[0])}))}},"Delete")};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||Zt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zt(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var tn=function(e){var t=e.name,n=e.setLoading,i=(0,l.useSelector)((function(e){return e})),u=i.path,s=i.cdir,f=(0,l.useDispatch)(),p=(0,c.bindActionCreators)(r,f),d=p.updateError,m=p.updateCdir,y=p.updateLevel,b=p.updateItemMenu,g=Qt((0,o.useState)(!1),2),v=g[0],w=g[1],E=Qt((0,o.useState)(t),2),O=E[0],S=E[1];return a().createElement("div",null,a().createElement("button",{type:"button",name:"rename",className:"button-clear",onClick:function(e){e.stopPropagation(),w(!0),S(t)}},"Rename"),v?a().createElement("div",{className:"overlay"},a().createElement("form",{onSubmit:function(e){e.preventDefault(),t!=O?(n(!0),$.ajax({url:globalThis.apiLocation+"rename",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(Yt({Path:u.substr(1)+"/"+t,Name:O},h()))}).done((function(e){if(n(!1),w(!1),b(null),e.result){d("");var r,o=function(e){if(Array.isArray(e))return en(e)}(l=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||Zt(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Zt(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(o);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.name==t&&(i.name=O)}}catch(e){a.e(e)}finally{a.f()}m(o)}else d(e.errors[0]);var l})).fail((function(){y("CONNECTING")}))):w(!1)}},a().createElement("i",{className:"fas fa-times",onClick:function(){w(!1)}}),a().createElement("div",null,a().createElement("label",{htmlFor:"rename-input"},"Rename to:"),a().createElement("input",{id:"rename-inpupt",placeholder:"New name",name:"rename",autoComplete:"ftp-rename",value:O,onChange:function(e){var t=e.target.value;t.includes("/")||S(t)}})),a().createElement("button",{type:"submit",className:"button-highlight"},"Rename"))):null)};function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ln(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cn=function(e){var t=an((0,o.useState)(0),2),n=t[0],i=t[1],u=an((0,o.useState)(null),2),s=u[0],f=u[1],p=e.name,d=(0,l.useSelector)((function(e){return e})).path,m=(0,l.useDispatch)(),y=(0,c.bindActionCreators)(r,m),b=y.updateError,g=y.updateLevel;return a().createElement("div",null,a().createElement("button",{type:"button",className:"button-clear",onClick:function(){i(1),$.ajax({url:globalThis.apiLocation+"view",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,timeout:6e4,data:JSON.stringify(rn({Path:d.substr(1)+"/"+p},h()))}).done((function(e){if(!e.result)return b(e.errors[0]),void i(0);f(e.url),i(2),b("")})).fail((function(){g("CONNECTING")}))}},"View"),n?a().createElement("div",{className:"overlay"},a().createElement("div",{className:"hold-view"},a().createElement("i",{className:"fas fa-times",onClick:function(){i(0)}}),3!=n?a().createElement("div",{className:"loader"}):null,n>=2?a().createElement("img",{src:globalThis.apiLocation+s,style:{display:3==n?"block":"none"},onLoad:function(){i(3)}}):null)):null)};const un=hljs;var sn=n.n(un);const fn=JSON.parse('[{"id":"default","name":"Default"},{"id":"atom-one-dark","name":"Atom One Dark"},{"id":"atom-one-light","name":"Atom One Light"},{"id":"vs-code","name":"VS Code"}]');function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gn=function(e){var t=yn((0,o.useState)(!1),2),n=t[0],i=t[1],u=yn((0,o.useState)(!1),2),s=u[0],f=u[1],p=yn((0,o.useState)(!1),2),d=p[0],m=p[1],y=yn((0,o.useState)(null),2),b=y[0],g=y[1],v=yn((0,o.useState)(null),2),w=v[0],E=v[1],O=yn((0,o.useState)(!1),2),S=O[0],j=O[1],P=yn((0,o.useState)(fn.filter((function(e){return e.id==(localStorage.getItem("text-theme")||"default")}))[0].name),2),C=P[0],N=P[1],A=yn((0,o.useState)(0),2),D=A[0],T=A[1],I=(0,o.useRef)("no"!=localStorage.getItem("highligh")),k=(0,o.useRef)(!1),x=e.name,L=(0,l.useSelector)((function(e){return e})).path,_=(0,l.useDispatch)(),U=(0,c.bindActionCreators)(r,_),F=U.updateError,R=U.updateLevel,M=function(e){var t=e.currentTarget.getAttribute("data-id");N(fn.filter((function(e){return e.id==t}))[0].name),localStorage.setItem("text-theme",t)};(0,o.useEffect)((function(){I.current&&sn().highlightAll()}),[w,D,s]),(0,o.useEffect)((function(){!n&&k.current&&it()}),[n]);var G,z=[],B=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=bn(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(fn);try{for(B.s();!(G=B.n()).done;){var H=G.value;z.push(a().createElement("div",{onClick:M,"data-id":H.id},a().createElement("span",null,H.name)))}}catch(e){B.e(e)}finally{B.f()}return a().createElement("div",null,a().createElement("button",{type:"button",className:"button-clear",onClick:function(){i(!0),$.ajax({url:globalThis.apiLocation+"view",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,timeout:6e4,data:JSON.stringify(dn({Path:L.substr(1)+"/"+x},h()))}).done((function(e){if(!e.result)return F(e.errors[0]),void i(!1);F(""),$.ajax({url:globalThis.apiLocation+e.url,type:"GET",processData:!1,timeout:6e4,dataType:"text"}).done((function(e){E(e),g(e)})).fail((function(){R("CONNECTING")}))})).fail((function(){R("CONNECTING")}))}},"View"),n?a().createElement("div",{className:"overlay"},a().createElement("div",{className:"hold-view full"},a().createElement("i",{className:"fas fa-times",onClick:function(){i(!1)}}),null==w?a().createElement("div",{className:"loader"}):a().createElement("div",{className:"hold-text"},a().createElement("div",{className:"hold-buttons"},a().createElement("button",{type:"button",className:"button-small",onClick:function(){I.current=!I.current,localStorage.setItem("highligh",I.current?"yes":"no"),T((function(e){return e+1}))},disabled:s},I.current?"Disable":"Enable"," highligh"),a().createElement("button",{type:"button",className:"dropdown button-small",disabled:s,onClick:function(){j(!S)}},C,a().createElement("i",{className:"fas fa-angle-".concat(S?"down":"up"," mt-1")}),a().createElement("section",{style:S?null:{display:"none"}},z)),s?d?a().createElement("div",{className:"loader ml-auto mr-5"}):a().createElement("div",{style:{display:"flex"},className:"ml-auto"},a().createElement("button",{type:"button",className:"button-small",onClick:function(e){e.stopPropagation(),f(!1),g(w)}},"Discard"),a().createElement("button",{type:"button",className:"button-small button-highligh",disabled:w==b,onClick:function(e){e.stopPropagation(),m(!0),$.ajax({url:globalThis.apiLocation+"textsave",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,timeout:6e4,data:JSON.stringify(dn({Path:L.substr(1)+"/"+x,Text:b},h()))}).done((function(e){e.result?(f(!1),E(b),m(!1),k.current=!0):F(e.errors[0])})).fail((function(){R("CONNECTING")})).always((function(){m(!1)}))}},"Save")):a().createElement("button",{type:"button",className:"button-small button-highligh ml-auto",onClick:function(e){e.stopPropagation(),f(!0)}},"Edit")),s?a().createElement("textarea",{value:b,onChange:function(e){g(e.target.value)}}):a().createElement("pre",{className:"text-theme-"+fn.filter((function(e){return e.name==C}))[0].id},a().createElement("code",{key:D},w))))):null)};function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sn=function(){var e,t,n,i=(0,l.useSelector)((function(e){return e.itemmenu})),u=(0,l.useSelector)((function(e){return e.path})),s=(0,l.useDispatch)(),f=(0,c.bindActionCreators)(r,s),p=f.updateMovePath,d=f.updateItemMenu,m=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(t,n)||function(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=m[0],b=m[1];return i?a().createElement("div",{id:"item-menu",style:wn({top:i.y},(e=i.x,e>window.innerWidth/2?{right:window.innerWidth-e}:{left:e}))},a().createElement("h5",null,i.item.name),y?a().createElement("div",{className:"loader mb-4 ml-auto mr-auto"}):a().createElement("div",null,a().createElement(Vt,{name:i.item.name,setLoading:b}),a().createElement(tn,{name:i.item.name,setLoading:b}),parseInt(i.item.size)<=4194304&&i.item.mime.includes("image")?a().createElement(cn,{name:i.item.name}):null,"file"==i.item.type&&parseInt(i.item.size)<=524288&&(i.item.mime.includes("text")||i.item.mime.includes("application"))?a().createElement(gn,{name:i.item.name}):null,a().createElement("button",{type:"button",className:"button-clear",name:"download",onClick:function(){yt(i.item.name,"dir"==i.item.type)}},"Download"),a().createElement("button",{type:"button",className:"button-clear",name:"move",onClick:function(){p("".concat(u,"/").concat(i.item.name)),d(null)}},"Cut"))):null};const jn=JSON.parse('[{"title":"Welcome to Netdrop","text":["It looks like this might be your first time using Netdrop. Here is a quick guide to help you get started. Navigate with \\"next\\" and \\"back\\" buttons or press \\"skip\\" to skip the guide. You can always review this guide later by pressing the info icon on the right.","Netdrop is a lightweight web-based FTP client. Since the webserver needs to act as a middle man, it is not meant to be used for large file transfers.  Instead, it is meant to be a convenient tool for web developers by allowing saving FTP credentials, having code highlighting, and in-browser text editor."],"highlight":"#guide-button","image":null},{"title":"New Connection","text":["To start actually using the app, you need to press the \\"new connection\\" button.","After pressing it, a form will open up, allowing you to enter your FTP credentials. If the connection succeeds, you will get a directory listing of the main folder."],"highlight":"#nav-login","image":null},{"title":"Directory Listing","text":["After establishing a connection, you will get an output similar to the one below. It\'s a list of files and folders in your root directory with some basic info.","You can easily differentiate files and folders because folders don\'t have size. Clicking on a folder will enter it while clicking on a file will download it.","The slash you see on the bottom displays the path of your current directory."],"highlight":null,"image":"1.png"},{"title":"Adding Files","text":["When you want to upload a file or create a directory, your best friend is the add button you could see on the previous tab.","You can also drag and drop your items to the directory table to upload them; note, however, that this feature may not be well supported on all browsers and could lead to some chaotic behavior.","Side note: files will be overwritten without warning. The same goes for deleting; I am not responsible for any damage caused by this."],"highlight":null,"image":null},{"title":"Option Menu","text":["Right-clicking an item or pressing the three bars icon on the right will open a menu similar to the one below.","All of those options should be self-explanatory, but I will quickly describe the \\"view\\" one. So, you can view image files smaller than 4MB; and text files smaller than 0.5MB. The textual files will have code highlighting; and the option to edit and save them in-browser. Beware that determining what file is textual can be a little problematic, so you might be able to view some smaller binary files."],"highligh":null,"image":"2.png"},{"title":"Netdrop Account","text":["With just a username and a password, you can create an account. Having an account enables you to securely save your FTP credentials.","While logged in, after each unique successful connection, you will be prompted to save your credentials by naming them. You can later find them in a dropdown menu; on the \\"new connection\\" tab, as shown below. To delete them, go to your profile by clicking on your username."],"highlight":"#nav-account","image":"3.png"},{"title":"Theme Button","text":["Lastly, there is a very obvious theme button. It is simply a switch for dark and light theme.","And with that, you should be all set. Hope the app servers you well."],"highlight":"#theme-button","image":null}]');function Pn(e,t){if(e){if("string"==typeof e)return Cn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cn(e,t):void 0}}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nn=localStorage.getItem("guide")||"0",An="done"==Nn?"done":parseInt(Nn),Dn=function(){var e,t,n=(e=(0,o.useState)(An),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||Pn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=n[0],i=n[1];(0,o.useEffect)((function(){localStorage.setItem("guide",r.toString()),$(".guide-highligh").removeClass("guide-highligh"),"done"!=r&&$(jn[r].highlight).addClass("guide-highligh")}),[r]);var l="done"==r?null:jn[r],c=[];if(l){var u,s=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pn(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw a}}}}(l.text);try{for(s.s();!(u=s.n()).done;){var f=u.value;c.push(a().createElement("p",null,f))}}catch(e){s.e(e)}finally{s.f()}}var p=l?a().createElement("div",{className:"overlay overlay--strong"},a().createElement("div",{id:"guide-inner"},a().createElement("h2",null,l.title),c,l.image?a().createElement("img",{src:"static/guide/".concat(l.image),alt:"Guide image"}):null,a().createElement("div",{className:"buttons"},a().createElement("button",{type:"button",className:"button-clear",name:"back",onClick:function(){i(r-1)},disabled:!r},"Back"),a().createElement("button",{type:"button",className:"button-clear",name:"next",onClick:function(){r!=jn.length-1?i(r+1):i("done")}},r==jn.length-1?"Finish":"Next"),a().createElement("button",{type:"button",className:"button-clear",name:"skip",onClick:function(){i("done")}},"Skip")))):null;return a().createElement("div",{id:"hold-guide"},a().createElement("i",{className:"fas fa-info-circle ml-auto",id:"guide-button",onClick:function(){i(0)}}),p)};function Tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}globalThis.apiLocation=localStorage.getItem("apiLocation")||"https://netdrop.azurewebsites.net/api/",$(document).ready((function(){var e;$(document).on("dragover",(function(t){t.preventDefault(),$(".dropzone-root").css("z-index",2),clearTimeout(e),e=setTimeout((function(){$(".dropzone-root").css("z-index",-1)}),100)})),$("html").attr("data-theme",localStorage.getItem("theme")||(matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),setTimeout((function(){$("html").attr("data-loaded","")}),200);var t=function(){var e,t,n=(0,l.useDispatch)(),i=(0,c.bindActionCreators)(r,n).updateLevel,u=(0,l.useSelector)((function(e){return e})).globals,s=(e=(0,o.useState)(globalThis.apiLocation.includes("localhost")),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],p=s[1];return a().createElement("div",null,a().createElement("nav",null,a().createElement("div",{id:"nav-title",onClick:function(){location.reload()}},a().createElement("svg",{viewBox:"0 0 700 700"},a().createElement("use",{href:"static/icons/logo.svg#logo"})),a().createElement("h3",null,"Netdrop")),a().createElement("div",null,"USING"==u.state?a().createElement(K,null):null,"USING"==u.state?a().createElement(Gt,{key:f?"a":"B"}):null)),"CONNECTING"==u.state?null:a().createElement(Dn,null),a().createElement("section",{id:"content",className:"center"},"CONNECTING"!=u.state?null:a().createElement(z,{key:f?"a":"B"}),"CONNECTING"==u.state?null:a().createElement(At,null),a().createElement("h5",{className:"text-error mt-3"},u.error)),a().createElement("div",{id:"dev-buttons"},a().createElement("p",null,"Dev Buttons"),a().createElement("button",{type:"button",className:"button-small",onClick:function(){p(!f),localStorage.setItem("apiLocation","https://".concat(f?"netdrop.azurewebsites.net":"localhost:5009","/api/")),globalThis.apiLocation=localStorage.getItem("apiLocation"),i("CONNECTING")}},"Switch to ".concat(f?"online":"localhost"," api")),a().createElement(T,null)),a().createElement(Ht,null),a().createElement(Bt,null),a().createElement(Sn,null))};(0,i.render)(a().createElement(l.Provider,{store:D},a().createElement(t,null)),$("#root")[0])}))},729:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){return function e(t,n,r){var o,a,i=window,l="application/octet-stream",c=r||l,u=t,s=!n&&!r&&u,f=document.createElement("a"),p=function(e){return String(e)},d=i.Blob||i.MozBlob||i.WebKitBlob||p,m=n||"download";if(d=d.call?d.bind(i):Blob,"true"===String(this)&&(c=(u=[u,c])[0],u=u[1]),s&&s.length<2048&&(m=s.split("/").pop().split("?")[0],f.href=s,-1!==f.href.indexOf(s))){var y=new XMLHttpRequest;return y.open("GET",s,!0),y.responseType="blob",y.onload=function(t){e(t.target.response,m,l)},setTimeout((function(){y.send()}),0),y}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&d!==p))return navigator.msSaveBlob?navigator.msSaveBlob(v(u),m):w(u);c=(u=v(u)).type||l}else if(/([\x80-\xff])/.test(u)){for(var b=0,h=new Uint8Array(u.length),g=h.length;b<g;++b)h[b]=u.charCodeAt(b);u=new d([h],{type:c})}function v(e){for(var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=r.length,a=0,i=new Uint8Array(o);a<o;++a)i[a]=r.charCodeAt(a);return new d([i],{type:n})}function w(e,t){if("download"in f)return f.href=e,f.setAttribute("download",m),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(o=u instanceof d?u:new d([u],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,m);if(i.URL)w(i.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===p)try{return w("data:"+c+";base64,"+i.btoa(o))}catch(e){return w("data:"+c+","+encodeURIComponent(o))}(a=new FileReader).onload=function(e){w(this.result)},a.readAsDataURL(o)}return!0}})?n.apply(t,[]):n)||(e.exports=r)},703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(618)})();