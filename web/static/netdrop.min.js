(()=>{var e={363:(e,t)=>{"use strict";t.Z=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return r.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):o===t}))}return!0}},729:function(e,t){var r,n;void 0===(n="function"==typeof(r=function(){return function e(t,r,n){var o,a,i=window,l="application/octet-stream",c=n||l,u=t,s=!r&&!n&&u,f=document.createElement("a"),p=function(e){return String(e)},m=i.Blob||i.MozBlob||i.WebKitBlob||p,d=r||"download";if(m=m.call?m.bind(i):Blob,"true"===String(this)&&(c=(u=[u,c])[0],u=u[1]),s&&s.length<2048&&(d=s.split("/").pop().split("?")[0],f.href=s,-1!==f.href.indexOf(s))){var y=new XMLHttpRequest;return y.open("GET",s,!0),y.responseType="blob",y.onload=function(t){e(t.target.response,d,l)},setTimeout((function(){y.send()}),0),y}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&m!==p))return navigator.msSaveBlob?navigator.msSaveBlob(h(u),d):O(u);c=(u=h(u)).type||l}else if(/([\x80-\xff])/.test(u)){for(var b=0,g=new Uint8Array(u.length),v=g.length;b<v;++b)g[b]=u.charCodeAt(b);u=new m([g],{type:c})}function h(e){for(var t=e.split(/[:;,]/),r=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),o=n.length,a=0,i=new Uint8Array(o);a<o;++a)i[a]=n.charCodeAt(a);return new m([i],{type:r})}function O(e,t){if("download"in f)return f.href=e,f.setAttribute("download",d),f.className="download-js-link",f.innerHTML="downloading...",f.style.display="none",document.body.appendChild(f),setTimeout((function(){f.click(),document.body.removeChild(f),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(f.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var r=document.createElement("iframe");document.body.appendChild(r),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),r.src=e,setTimeout((function(){document.body.removeChild(r)}),333)}if(o=u instanceof m?u:new m([u],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(o,d);if(i.URL)O(i.URL.createObjectURL(o),!0);else{if("string"==typeof o||o.constructor===p)try{return O("data:"+c+";base64,"+i.btoa(o))}catch(e){return O("data:"+c+","+encodeURIComponent(o))}(a=new FileReader).onload=function(e){O(this.result)},a.readAsDataURL(o)}return!0}})?r.apply(t,[]):r)||(e.exports=n)},703:(e,t,r)=>{"use strict";var n=r(414);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,a,i){if(i!==n){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return r.PropTypes=r,r}},697:(e,t,r)=>{e.exports=r(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};r.r(e),r.d(e,{updateCdir:()=>x,updateError:()=>C,updateLevel:()=>T,updatePath:()=>k,updateProgress:()=>_,updateUser:()=>I});const t=React;var n=r.n(t);const o=ReactDOM,a=ReactRedux,i=Redux;function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){return e.sort((function(e,t){return("dir"==e.type?0:1)-("dir"==t.type?0:1)}))},p=function(e,t){return 0==t?e.substr(0,e.lastIndexOf("/")):e+="/"+t},m=["B","KB","MB","GB"],d=function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(m);try{for(r.s();!(t=r.n()).done;){var n=t.value;if("GB"==n||e<1024)return Math.round(10*e)/10+n;e/=1024}}catch(e){r.e(e)}finally{r.f()}},y=function(){return{Host:localStorage.getItem("host"),Username:localStorage.getItem("user"),Password:globalThis.ftpPassword,Secure:"true"==localStorage.getItem("secure"),Port:parseInt(localStorage.getItem("port"))}};function b(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var E=(0,i.combineReducers)({globals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ERROR":return e.error=t.payload,c({},e);case"UPDATE_LEVEL":return e.state==t.payload||""==t.payload?e:(e.state=t.payload,c({},e));case"UPDATE_USER":return e.user=t.payload,c({},e);default:return e}},cdir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.payload&&"UPDATE_CDIR"==t.type&&e!=t.payload?Array.isArray(t.payload)?f(t.payload):(e.push(t.payload),f(b(e))):e},path:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",t=arguments.length>1?arguments[1]:void 0;return"UPDATE_PATH"==t.type?-1==t.payload?".":p(e,t.payload):e},progress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if("UPDATE_PROGRESS"==t.type)switch(w(t.payload)){case"number":return e.percentage=t.payload,h({},e);case"string":return e.title=t.payload,h({},e);case"object":return t.payload;default:return null}return e}});function S(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var j=S();j.withExtraArgument=S;const P=j;var D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.compose,N=(0,i.createStore)(E,{globals:{state:"CONNECTING",error:"",user:null}},(0,i.compose)((0,i.applyMiddleware)(P),D())),A=function(){return n().createElement("button",{onClick:function(){localStorage.clear(),location.reload()},name:"reset",className:"btn btn-sm btn-warning mt-5"},"Reset")},C=function(e){return function(t){t({type:"UPDATE_ERROR",payload:e})}},T=function(e){return function(t){t({type:"UPDATE_LEVEL",payload:e})}},I=function(e){return function(t){t({type:"UPDATE_USER",payload:e})}},x=function(e){return function(t){t({type:"UPDATE_CDIR",payload:e})}},k=function(e){return function(t){t({type:"UPDATE_PATH",payload:e})}},_=function(e){return function(t){t({type:"UPDATE_PROGRESS",payload:e})}};function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F=function(){var r,o,l=(0,a.useDispatch)(),c=(0,i.bindActionCreators)(e,l).updateLevel,u=(r=(0,t.useState)(!0),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],f=u[1],p=function(){f(!0),$.ajax({url:globalThis.apiLocation,type:"GET",timeout:1e4}).fail((function(){f(!1)})).done((function(){c("USING")}))};return(0,t.useEffect)((function(){p()}),[]),n().createElement("div",null,n().createElement("h3",null,s?"Connecting to Netdrop API.":"Failed to connect to Netdrop API."),s?n().createElement("div",{className:"spinner-border",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){p()}},"Try Again"))};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=z(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=function(){var r=(0,a.useSelector)((function(e){return e.globals.user})),o=(0,a.useDispatch)(),l=(0,i.bindActionCreators)(e,o),c=l.updateLevel,u=l.updateCdir,s=l.updatePath,f=G((0,t.useState)(!1),2),p=f[0],m=f[1],d=G((0,t.useState)(!1),2),y=d[0],b=d[1],g=G((0,t.useState)(!1),2),v=g[0],h=g[1],O=G((0,t.useState)(""),2),w=O[0],E=O[1],S=G((0,t.useState)("Saved Connections"),2),j=S[0],P=S[1],D=G((0,t.useState)(""),2),N=D[0],A=D[1],C=G((0,t.useState)({host:localStorage.getItem("host")||"",user:localStorage.getItem("user")||"",password:"",secure:"true"==localStorage.getItem("secure"),port:localStorage.getItem("port")||("true"==localStorage.getItem("secure")?"990":"21")}),2),T=C[0],I=C[1];(0,t.useEffect)((function(){E("")}),[y]);var x=function(e){var t=parseInt(e.currentTarget.getAttribute("data-id")),n=r.credentials[t];I({host:n.host,user:n.username,password:n.password,secure:n.secure,port:n.port.toString()}),P(n.name)},k=[];if(r)for(var _ in r.credentials){var L=r.credentials[_];k.push(n().createElement("div",{className:"dropdown-item pt-3","data-id":_,onClick:x},n().createElement("p",{style:{lineHeight:0}},L.name),n().createElement("p",{style:{fontSize:"50%",lineHeight:0}},L.host)))}var F=function(e){var t=e.target,r=t.value,n=t.name,o=t.checked;I((function(e){return"secure"!=n||"21"!=T.port&&"990"!=T.port||(e.port=o?"990":"21"),e[n]="secure"==n?o:r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}))},z=function(e){e.preventDefault(),0!=T.host.length?(m(!0),$.ajax({url:globalThis.apiLocation+"listdir",type:"post",timeout:2e4,contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify({Host:T.host,Username:T.user,Password:T.password,Secure:T.secure,Port:parseInt(T.port),Path:""})}).fail((function(){c("CONNECTING")})).done((function(e){m(!1),e.result?(E(""),u(e.dirList),s(-1),localStorage.setItem("user",T.user),localStorage.setItem("host",T.host),localStorage.setItem("secure",T.secure?"true":"false"),localStorage.setItem("port",T.port),globalThis.ftpPassword=T.password,function(){var e,t=M(r.credentials);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.host==T.host&&n.password==T.password&&n.username==T.user&&T.port==n.port.toString())return!1}}catch(e){t.e(e)}finally{t.f()}return!0}()?h(!0):b(!1)):E(e.errors[0])}))):E("Host field is required.")},B=function(e){A(e.target.value)},H=function(e){if(e.preventDefault(),N){var t,n=M(r.credentials);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(N==o.name)return void E("Name already used.")}}catch(e){n.e(e)}finally{n.f()}m(!0),$.ajax({url:globalThis.apiLocation+"newcred",type:"POST",timeout:1e4,contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},data:JSON.stringify({Name:N,Host:T.host,Username:T.user,Password:T.password,Secure:T.secure,Port:parseInt(T.port)})}).done((function(){b(!1),h(!1),r.credentials.push({name:N,host:T.host,username:T.user,password:T.password,secure:T.secure,port:parseInt(T.port)})})).fail((function(){c("CONNECTING")})).always((function(){m(!1)}))}else E("A name is required.")};return n().createElement("div",null,n().createElement("button",{className:"btn btn-primary btn-sm mr-5 d-block",type:"button",onClick:function(){b(!0),h(!1)}},"New Connection"),function(){if(y)return n().createElement("div",{className:"overlay"},v?n().createElement("form",{className:"bg-white d-flex flex-column",onSubmit:H},n().createElement("i",{className:"fas fa-times",onClick:function(){b(!1)}}),n().createElement("h2",null,"Save connection?"),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"ftp_save_input"},"Connection Name:"),n().createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Connection Name",id:"ftp_name_input",autoComplete:"ftpname",value:N,onChange:B})),n().createElement("p",{className:"text-danger"},w),p?n().createElement("div",{className:"spinner-border spinner-border-sm align-self-center",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"submit",id:"save_button",className:"btn btn-primary"},"Save")):n().createElement("form",{className:"bg-white d-flex flex-column",onSubmit:z},n().createElement("i",{className:"fas fa-times",onClick:function(){b(!1)}}),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"ftp_host_input"},"Host:"),n().createElement("input",{type:"text",className:"form-control",name:"host",placeholder:"Host",id:"ftp_host_input",autoComplete:"ftphost",value:T.host,onChange:F})),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"ftp_username_input"},"Username:"),n().createElement("input",{type:"text",className:"form-control",name:"user",placeholder:"Username",id:"ftp_user_input",autoComplete:"ftpuser",value:T.user,onChange:F})),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"ftp_password_input"},"Password:"),n().createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",id:"ftp_password_input",autoComplete:"ftppassword",value:T.password,onChange:F})),n().createElement("div",{className:"form-group w-25"},n().createElement("label",{htmlFor:"ftp_port_input"},"Port:"),n().createElement("input",{type:"number",className:"form-control",name:"port",placeholder:"Port",id:"ftp_port_input",autoComplete:"ftpport",value:T.port,onChange:F})),n().createElement("div",{className:"form-check"},n().createElement("input",{type:"checkbox",className:"form-check-input",name:"secure",id:"ftp_secure_check",checked:T.secure,onChange:F}),n().createElement("label",{className:"form-check-label",htmlFor:"ftp_secure_check"},"Secure Connection")),r?n().createElement("div",{className:"btn-group mt-2 mb-2 ml-auto"},n().createElement("button",{type:"button",className:"btn btn-info dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},j),n().createElement("div",{className:"dropdown-menu"},k)):null,n().createElement("p",{className:"text-danger"},w),p?n().createElement("div",{className:"spinner-border spinner-border-sm align-self-center",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"submit",id:"login_button",className:"btn btn-primary"},"Connect")))}())},J=r(697),K=r.n(J);function q(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function l(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))}function V(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function W(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,a=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}Object.create,Object.create;var X=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Y(e,t){var r=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var r=t.split(".").pop().toLowerCase(),n=X.get(r);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof r.path){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof n&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}var Z=[".DS_Store","Thumbs.db"];function Q(e){return(null!==e.target&&e.target.files?re(e.target.files):[]).map((function(e){return Y(e)}))}function ee(e,t){return q(this,void 0,void 0,(function(){var r;return V(this,(function(n){switch(n.label){case 0:return e.items?(r=re(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,r]:[4,Promise.all(r.map(ne))]):[3,2];case 1:return[2,te(oe(n.sent()))];case 2:return[2,te(re(e.files).map((function(e){return Y(e)})))]}}))}))}function te(e){return e.filter((function(e){return-1===Z.indexOf(e.name)}))}function re(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function ne(e){if("function"!=typeof e.webkitGetAsEntry)return ae(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?le(t):ae(e)}function oe(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(W(arguments[t]));return e}(e,Array.isArray(t)?oe(t):[t])}),[])}function ae(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var r=Y(t);return Promise.resolve(r)}function ie(e){return q(this,void 0,void 0,(function(){return V(this,(function(t){return[2,e.isDirectory?le(e):ce(e)]}))}))}function le(e){var t=e.createReader();return new Promise((function(e,r){var n=[];!function o(){var a=this;t.readEntries((function(t){return q(a,void 0,void 0,(function(){var a,i,l;return V(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return a=c.sent(),e(a),[3,4];case 3:return i=c.sent(),r(i),[3,4];case 4:return[3,6];case 5:l=Promise.all(t.map(ie)),n.push(l),o(),c.label=6;case 6:return[2]}}))}))}),(function(e){r(e)}))}()}))}function ce(e){return q(this,void 0,void 0,(function(){return V(this,(function(t){return[2,new Promise((function(t,r){e.file((function(r){var n=Y(r,e.fullPath);t(n)}),(function(e){r(e)}))}))]}))}))}var ue=r(363);function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pe=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},me=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," bytes")}},de=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," bytes")}},ye={code:"too-many-files",message:"Too many files"};function be(e,t){var r="application/x-moz-file"===e.type||(0,ue.Z)(e,t);return[r,r?null:pe(t)]}function ge(e,t,r){if(ve(e.size))if(ve(t)&&ve(r)){if(e.size>r)return[!1,me(r)];if(e.size<t)return[!1,de(t)]}else{if(ve(t)&&e.size<t)return[!1,de(t)];if(ve(r)&&e.size>r)return[!1,me(r)]}return[!0,null]}function ve(e){return null!=e}function he(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,a=e.multiple,i=e.maxFiles;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every((function(e){var t=se(be(e,r),1)[0],a=se(ge(e,n,o),1)[0];return t&&a}))}function Oe(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function we(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Ee(e){e.preventDefault()}function Se(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function je(e){return-1!==e.indexOf("Edge/")}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Se(e)||je(e)}function De(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return t.some((function(t){return!Oe(e)&&t&&t.apply(void 0,[e].concat(n)),Oe(e)}))}}var Ne=["children"],Ae=["open"],Ce=["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Te=["refKey","onChange","onClick"];function Ie(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var $e=(0,t.forwardRef)((function(e,r){var o=e.children,a=ze(Ue(e,Ne)),i=a.open,l=Ue(a,Ae);return(0,t.useImperativeHandle)(r,(function(){return{open:i}}),[i]),n().createElement(t.Fragment,null,o(Fe(Fe({},l),{},{open:i})))}));$e.displayName="Dropzone";var Me={disabled:!1,getFilesFromEvent:function(e){return q(this,void 0,void 0,(function(){return V(this,(function(t){return[2,(r=e,r.dataTransfer&&e.dataTransfer?ee(e.dataTransfer,e.type):Q(e))];var r}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null};$e.defaultProps=Me,$e.propTypes={children:K().func,accept:K().oneOfType([K().string,K().arrayOf(K().string)]),multiple:K().bool,preventDropOnDocument:K().bool,noClick:K().bool,noKeyboard:K().bool,noDrag:K().bool,noDragEventsBubbling:K().bool,minSize:K().number,maxSize:K().number,maxFiles:K().number,disabled:K().bool,getFilesFromEvent:K().func,onFileDialogCancel:K().func,onDragEnter:K().func,onDragLeave:K().func,onDragOver:K().func,onDrop:K().func,onDropAccepted:K().func,onDropRejected:K().func,validator:K().func};var Ge={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Fe(Fe({},Me),e),n=r.accept,o=r.disabled,a=r.getFilesFromEvent,i=r.maxSize,l=r.minSize,c=r.multiple,u=r.maxFiles,s=r.onDragEnter,f=r.onDragLeave,p=r.onDragOver,m=r.onDrop,d=r.onDropAccepted,y=r.onDropRejected,b=r.onFileDialogCancel,g=r.preventDropOnDocument,v=r.noClick,h=r.noKeyboard,O=r.noDrag,w=r.noDragEventsBubbling,E=r.validator,S=(0,t.useRef)(null),j=(0,t.useRef)(null),P=(0,t.useReducer)(Be,Ge),D=xe(P,2),N=D[0],A=D[1],C=N.isFocused,T=N.isFileDialogActive,I=N.draggedFiles,x=(0,t.useCallback)((function(){j.current&&(A({type:"openDialog"}),j.current.value=null,j.current.click())}),[A]),k=function(){T&&setTimeout((function(){j.current&&(j.current.files.length||(A({type:"closeDialog"}),"function"==typeof b&&b()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",k,!1),function(){window.removeEventListener("focus",k,!1)}}),[j,T,b]);var _=(0,t.useCallback)((function(e){S.current&&S.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),x()))}),[S,j]),L=(0,t.useCallback)((function(){A({type:"focus"})}),[]),F=(0,t.useCallback)((function(){A({type:"blur"})}),[]),R=(0,t.useCallback)((function(){v||(Pe()?setTimeout(x,0):x())}),[j,v]),U=(0,t.useRef)([]),$=function(e){S.current&&S.current.contains(e.target)||(e.preventDefault(),U.current=[])};(0,t.useEffect)((function(){return g&&(document.addEventListener("dragover",Ee,!1),document.addEventListener("drop",$,!1)),function(){g&&(document.removeEventListener("dragover",Ee),document.removeEventListener("drop",$))}}),[S,g]);var M=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),q(e),U.current=[].concat(Ie(U.current),[e.target]),we(e)&&Promise.resolve(a(e)).then((function(t){Oe(e)&&!w||(A({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),s&&s(e))}))}),[a,s,w]),G=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),q(e);var t=we(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&p&&p(e),!1}),[p,w]),z=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),q(e);var t=U.current.filter((function(e){return S.current&&S.current.contains(e)})),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),U.current=t,t.length>0||(A({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),we(e)&&f&&f(e))}),[S,f,w]),B=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),q(e),U.current=[],we(e)&&Promise.resolve(a(e)).then((function(t){if(!Oe(e)||w){var r=[],o=[];t.forEach((function(e){var t=xe(be(e,n),2),a=t[0],c=t[1],u=xe(ge(e,l,i),2),s=u[0],f=u[1],p=E?E(e):null;if(a&&s&&!p)r.push(e);else{var m=[c,f];p&&(m=m.concat(p)),o.push({file:e,errors:m.filter((function(e){return e}))})}})),(!c&&r.length>1||c&&u>=1&&r.length>u)&&(r.forEach((function(e){o.push({file:e,errors:[ye]})})),r.splice(0)),A({acceptedFiles:r,fileRejections:o,type:"setFiles"}),m&&m(r,o,e),o.length>0&&y&&y(o,e),r.length>0&&d&&d(r,e)}})),A({type:"reset"})}),[c,n,l,i,u,a,m,d,y,w,E]),H=function(e){return o?null:e},J=function(e){return h?null:H(e)},K=function(e){return O?null:H(e)},q=function(e){w&&e.stopPropagation()},V=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,n=e.onKeyDown,a=e.onFocus,i=e.onBlur,l=e.onClick,c=e.onDragEnter,u=e.onDragOver,s=e.onDragLeave,f=e.onDrop,p=Ue(e,Ce);return Fe(Fe(Re({onKeyDown:J(De(n,_)),onFocus:J(De(a,L)),onBlur:J(De(i,F)),onClick:H(De(l,R)),onDragEnter:K(De(c,M)),onDragOver:K(De(u,G)),onDragLeave:K(De(s,z)),onDrop:K(De(f,B))},r,S),o||h?{}:{tabIndex:0}),p)}}),[S,_,L,F,R,M,G,z,B,h,O,o]),W=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),X=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,o=e.onChange,a=e.onClick,i=Ue(e,Te),l=Re({accept:n,multiple:c,type:"file",style:{display:"none"},onChange:H(De(o,B)),onClick:H(De(a,W)),autoComplete:"off",tabIndex:-1},r,j);return Fe(Fe({},l),i)}}),[j,n,c,B,o]),Y=I.length,Z=Y>0&&he({files:I,accept:n,minSize:l,maxSize:i,multiple:c,maxFiles:u}),Q=Y>0&&!Z;return Fe(Fe({},N),{},{isDragAccept:Z,isDragReject:Q,isFocused:C&&!o,getRootProps:V,getInputProps:X,rootRef:S,inputRef:j,open:H(x)})}function Be(e,t){switch(t.type){case"focus":return Fe(Fe({},e),{},{isFocused:!0});case"blur":return Fe(Fe({},e),{},{isFocused:!1});case"openDialog":return Fe(Fe({},e),{},{isFileDialogActive:!0});case"closeDialog":return Fe(Fe({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var r=t.isDragActive,n=t.draggedFiles;return Fe(Fe({},e),{},{draggedFiles:n,isDragActive:r});case"setFiles":return Fe(Fe({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Fe({},Ge);default:return e}}var He=r(729),Je=r.n(He),Ke=function(e){N.dispatch({type:"UPDATE_ERROR",payload:e})},qe=function(e){N.dispatch({type:"UPDATE_PROGRESS",payload:e})},Ve=function(e){N.dispatch({type:"UPDATE_CDIR",payload:e})},We=function(e){N.dispatch({type:"UPDATE_LEVEL",payload:e})};function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qe=function(e){var t=N.getState().path,r=Ke,n=qe,o=Ve,a=We;if(e.length){for(var i=!1,l=new FormData,c=0;c<e.length;c++)e[c].size&&(i=!0,l.append("files",e[c],e[c].path.replace("/","")||e[c].name));i?(l.append("dataJson",JSON.stringify(Ye({Path:t.substr(1)},y()))),n({title:"Uploading files...",percentage:0}),$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",(function(e){if(e.lengthComputable){var t=Math.trunc(e.loaded/e.total*100);100==t&&n({title:"Copying files...",percentage:101}),n(t)}}),!1),e},type:"POST",url:globalThis.apiLocation+"upload",contentType:!1,processData:!1,data:l}).fail((function(){a("CONNECTING")})).done((function(e){if(!e.result)return r(e.errors.join("\n")),void n(null);var i;n({title:"Transfering files...",percentage:0}),i=setInterval((function(){$.ajax({url:globalThis.apiLocation+"checkupload",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(e.code)}).done((function(e){if(-1==e||100==e)return clearInterval(i),n(null),r(-1==e?"Something went wrong.":""),void $.ajax(globalThis.apiLocation+"listdir",{type:"POST",data:JSON.stringify(Ye(Ye({},y()),{},{Path:t.substr(1)})),processData:!1,contentType:"application/json; charset=utf-8"}).done((function(e){e.result?(o(e.dirList),$("#dirlist")[0].scrollTop=0):r(e.errors[0])})).fail((function(){a("CONNECTING"),clearInterval(i)}));n(e)}))}),750)})).fail((function(){a("CONNECTING")}))):r("File".concat(e.length>1?"s":""," empty."))}};function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||ot(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){if(e){if("string"==typeof e)return at(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?at(e,t):void 0}}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var it=function(r){var o=(0,a.useSelector)((function(e){return e})),l=o.path,c=o.cdir,u=(0,a.useDispatch)(),s=(0,i.bindActionCreators)(e,u),f=s.updateError,p=s.updateCdir,m=s.updateLevel,d=nt((0,t.useState)(!1),2),b=d[0],g=d[1],v=nt((0,t.useState)(!1),2),h=v[0],O=v[1],w=nt((0,t.useState)(r.name),2),E=w[0],S=w[1];return n().createElement("span",{className:"d-flex justify-content-between align-items-center"},b?n().createElement("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),r.name!=E?(O(!0),$.ajax({url:globalThis.apiLocation+"rename",type:"POST",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(tt({Path:l.substr(1)+"/"+r.name,Name:E},y()))}).done((function(e){if(O(!1),g(!1),e.result){f("");var t,n=function(e){if(Array.isArray(e))return at(e)}(i=c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||ot(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ot(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;a.name==r.name&&(a.name=E)}}catch(e){o.e(e)}finally{o.f()}p(n)}else f(e.errors[0]);var i})).fail((function(){m("CONNECTING")}))):g(!1)},onClick:function(e){e.stopPropagation()}},n().createElement("div",{className:"form-group"},n().createElement("input",{className:"form-control",value:E,onChange:function(e){S(e.target.value)}}))):n().createElement("span",null,r.name),h?n().createElement("div",{className:"spinner-border spinner-border-sm ml-4",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("i",{className:"fas fa-pen ml-2",onClick:function(e){e.stopPropagation(),g(!b),S(r.name)}}))};function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ft=function(r){var o,l,c=(0,a.useSelector)((function(e){return e})),u=c.path,s=c.cdir,f=(0,a.useDispatch)(),p=(0,i.bindActionCreators)(e,f),m=p.updateError,d=p.updateCdir,b=p.updateLevel,g=(o=(0,t.useState)(!1),l=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(o,l)||function(e,t){if(e){if("string"==typeof e)return st(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?st(e,t):void 0}}(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=g[0],h=g[1];return v?n().createElement("div",{className:"spinner-border spinner-border-sm ml-4",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("i",{className:"fas fa-trash ml-4",onClick:function(e){e.stopPropagation(),h(!0),$.ajax({type:"POST",url:globalThis.apiLocation+"delete",contentType:"application/json; charset=utf-8",processData:!1,data:JSON.stringify(ct(ct({},y()),{},{Path:"/"+u+"/"+r.name}))}).fail((function(){b("CONNECTING")})).done((function(e){h(!1),e.result?(d(s.filter((function(e){return e.name!=r.name}))),m("")):m(e.errors[0])}))}})},pt=function(){var e=(0,a.useSelector)((function(e){return e.progress}));return null!=e?n().createElement("div",{className:"progressOverlay"},n().createElement("div",{className:"container-xl bg-light d-flex flex-column align-content-center m-6"},n().createElement("h2",{className:"text-center m-4"},e.title),n().createElement("div",{className:"m-4"},n().createElement("div",{className:"progress-bar progress-bar-striped progress-bar-animated",style:{width:e.percentage+"%"}},e.percentage,"%")))):null};function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dt=function(){var e,r,o=(e=(0,t.useState)(0),r=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],i=o[1];return n().createElement("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),Qe($("#uploadfiles")[0].files)}},n().createElement("label",{htmlFor:"uploadfiles"},n().createElement("u",{style:{cursor:"pointer"}},a?"Selected ".concat(a," file").concat(1==a?"":"s"):"Select files"),n().createElement("input",{type:"file",id:"uploadfiles",name:"files",onChange:function(e){i(e.target.files.length)},multiple:!0,className:"d-none"})),n().createElement("button",{type:"submit",className:"btn btn-outline-primary d-inline-block ml-2 btn-sm",disabled:!a},"Upload"),n().createElement(pt,null))};function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=function(){var r=(0,a.useSelector)((function(e){return e.path})),o=(0,a.useDispatch)(),l=(0,i.bindActionCreators)(e,o),c=l.updateCdir,u=l.updateError,s=l.updateLevel,f=vt((0,t.useState)(""),2),p=f[0],m=f[1],d=vt((0,t.useState)(!1),2),b=d[0],g=d[1];return n().createElement("form",{className:"form-inline ml-auto",onSubmit:function(e){e.preventDefault(),g(!0),$.ajax({url:globalThis.apiLocation+"createdir",processData:!1,contentType:"application/json; charset=utf-8",type:"POST",data:JSON.stringify(bt(bt({},y()),{},{Path:r.substr(1)+"/"+p}))}).fail((function(){s("CONNECTING")})).done((function(e){if(g(!1),e.result){u("");var t=new Date;c({name:p,size:null,modify:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()," ").concat(t.getHours(),":").concat(t.getMinutes()),type:"dir"})}else u(e.errors[0])}))}},n().createElement("div",{className:"form-group"},n().createElement("input",{className:"form-control input-sm text-center",type:"text",placeholder:"dir name",value:p,onChange:function(e){m(e.target.value)}})),b?n().createElement("div",{className:"spinner-border spinner-border-sm ml-2",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"submit",className:"btn btn-outline-primary ml-2",disabled:!p},"Create Dir"))};function wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){jt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pt=function(){var r=(0,a.useSelector)((function(e){return e})),o=r.cdir,l=r.path,c=(0,a.useDispatch)(),u=(0,i.bindActionCreators)(e,c),s=u.updatePath,f=u.updateCdir,m=u.updateError,b=u.updateProgress,g=u.updateLevel,v=ze({onDrop:(0,t.useCallback)((function(e){Qe(e)}),[])}),h=v.getRootProps,O=v.getInputProps;if(!o)return null;var w,E=function(e){var t=e.currentTarget.getAttribute("data-dir");$.ajax(globalThis.apiLocation+"listdir",{type:"POST",data:JSON.stringify(St(St({},y()),{},{Path:p(l,t).substr(2)})),processData:!1,contentType:"application/json; charset=utf-8"}).done((function(e){e.result?(s(t),f(e.dirList),m(""),$("#dirlist")[0].scrollTop=0):m(e.errors[0])})).fail((function(){g("CONNECTING")}))},S=function(e){var t,r,n,o,a=e.currentTarget.getAttribute("data-dir");$.ajax(globalThis.apiLocation+"download",{type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(St(St({},y()),{},{Path:l.substr(1)+"/"+a}))}).done((function(e){e.result?(m(""),t=e.url,r=e.size,n=e.mime,b({title:"Getting File",percentage:0}),o=setInterval((function(){$.ajax(globalThis.apiLocation+"progress",{type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(t)}).done((function(e){if(!e.result)return m("Failed to get file."),void clearInterval(o);if(b(Math.round(e.done/r*100)),e.done==r){clearInterval(o),b({title:"Downloading File",percentage:0});var i=new XMLHttpRequest;i.addEventListener("progress",(function(e){try{b(Math.round(e.loaded/e.total*100))}catch(e){}e.loaded==e.total&&(setTimeout((function(){Je()(i.response,a,n)}),0),b(null))})),i.responseType="blob",i.open("get",globalThis.apiLocation+t),i.setRequestHeader("Accept","*/*"),i.send()}})).fail((function(){g("CONNECTING"),clearInterval(o)}))}),750)):m(e.errors[0])})).fail((function(){g("CONNECTING")}))},j="."==l?[]:[n().createElement("li",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center list-group-item-info","data-dir":0,onClick:E,style:{cursor:"pointer"}},n().createElement("span",null,".."),n().createElement("span",{className:"badge badge-secondary"},"Parent Dir"))],P=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(o);try{for(P.s();!(w=P.n()).done;){var D=w.value;j.push(n().createElement("li",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center"+("dir"==D.type?" list-group-item-info":""),"data-dir":D.name,onClick:"dir"==D.type?E:S,style:{cursor:"pointer"}},n().createElement(it,{name:D.name,key:(new Date).getTime()}),"file"==D.type?n().createElement("span",{style:{margin:"0 1em 0 auto"}},d(parseInt(D.size))):"",n().createElement("span",{className:"badge badge-secondary",style:"dir"==D.type?{marginLeft:"auto"}:{}},D.modify),n().createElement(ft,{name:D.name,key:"d"+(new Date).getTime()})))}}catch(e){P.e(e)}finally{P.f()}return n().createElement("div",{className:"mt-4"},n().createElement("div",{className:"d-flex"},n().createElement(dt,{key:"uf"}),n().createElement(Ot,{key:"cd"})),n().createElement("ul",{className:"mt-1 list-group",id:"dirlist"},n().createElement("div",h({className:"dropzone-root"}),n().createElement("h2",null,"DROP HERE TO UPLOAD")),j,n().createElement(pt,null)),n().createElement("span",null,l),n().createElement("input",O({className:"d-hidden",onClick:function(e){return e.preventDefault()}})))};function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tt=function(r){var o=(0,a.useDispatch)(),l=(0,i.bindActionCreators)(e,o),c=l.updateUser,u=l.updateLevel,s=At((0,t.useState)("Sign In"),2),f=s[0],p=s[1],m=At((0,t.useState)(!1),2),d=m[0],y=m[1],b=At((0,t.useState)(""),2),g=b[0],v=b[1],h=At((0,t.useState)({user:"",password:"",repeat:""}),2),O=h[0],w=h[1],E=function(e){v("");var t=e.target,r=t.name,n=t.value;w((function(e){return e[r]=n,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){Nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)}))};return n().createElement("div",{className:"overlay"},n().createElement("form",{className:"bg-white",onSubmit:function(e){e.preventDefault(),d||(O.password.length*O.user.length*("Sign In"==f?1:O.repeat.length)!=0?O.password==O.repeat||"Sign In"==f?(v(""),y(!0),$.ajax({url:globalThis.apiLocation+("Sign In"==f?"login":"register"),type:"POST",contentType:"application/json; charset=utf-8",processData:!1,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4,data:JSON.stringify({Username:O.user,Password:O.password})}).done((function(e){if(y(!1),e.result)return c(e.userData),r.close(!1),void localStorage.setItem("logged-in","true");v(e.errors[0])})).fail((function(){u("CONNECTING")}))):v("Passwords do not match."):v("Can't have empty fields."))}},n().createElement("i",{className:"fas fa-times",onClick:function(){r.close(!1)}}),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"account_username_input"},"Username:"),n().createElement("input",{type:"text",className:"form-control",name:"user",placeholder:"Username",id:"account_user_input",value:O.user,onChange:E})),n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"account_password_input"},"Password:"),n().createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",id:"account_password_input",value:O.password,onChange:E})),"Sign In"==f?null:n().createElement("div",{className:"form-group"},n().createElement("label",{htmlFor:"account_repeat_input"},"Repeat Password:"),n().createElement("input",{type:"password",className:"form-control",name:"repeat",placeholder:"Repeat password",id:"account_repeat_input",value:O.repeat,onChange:E})),"Sign In"==f?n().createElement("button",{type:"button",className:"btn btn-outline-info btn-sm ml-auto d-block mb-2",onClick:function(){p("Sign Up")}},"Don't have an account."):n().createElement("button",{type:"button",className:"btn btn-outline-info btn-sm ml-auto d-block mb-2",onClick:function(){p("Sign In")}},"Already have an account."),n().createElement("p",{className:"text-danger"},g),d?n().createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"submit",id:"account_button",className:"btn btn-primary"},f)))};function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kt=function(){var r=(0,a.useSelector)((function(e){return e.globals.user})),o=(0,a.useDispatch)(),l=(0,i.bindActionCreators)(e,o),c=l.updateUser,u=l.updateLevel,s=It((0,t.useState)(!1),2),f=s[0],p=s[1],m=It((0,t.useState)(!1),2),d=m[0],y=m[1];return(0,t.useEffect)((function(){localStorage.getItem("logged-in")&&(p(!0),$.ajax({url:globalThis.apiLocation+"logininfo",type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4}).done((function(e){c(e)})).always((function(){p(!1)})))}),[]),n().createElement("div",{className:"d-flex align-items-center"},d?n().createElement(Tt,{close:y}):null,r?"Logged in as: ".concat(r.username):"Not logged in.",f?n().createElement("div",{className:"spinner-border spinner-border-sm ml-2 mr-2",role:"status"},n().createElement("span",{className:"sr-only"})):n().createElement("button",{type:"button",className:"btn btn-outline-primary btn-sm ml-2",onClick:function(){if(r)return p(!0),void $.ajax({url:globalThis.apiLocation+"logout",type:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},timeout:1e4}).done((function(){localStorage.removeItem("logged-in"),c(null)})).fail((function(){u("CONNECTING")})).always((function(){p(!1)}));y(!0)}},r?"Sign out":"Sign in"))};function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}globalThis.apiLocation=localStorage.getItem("apiLocation")||"https://calc.world:5009/api/",$(document).ready((function(){var r;$(document).on("dragover",(function(e){e.preventDefault(),$(".dropzone-root").css("z-index",2),clearTimeout(r),r=setTimeout((function(){$(".dropzone-root").css("z-index",-1)}),100)}));var l=function(){var r,o,l=(0,a.useDispatch)(),c=(0,i.bindActionCreators)(e,l).updateLevel,u=(0,a.useSelector)((function(e){return e})).globals,s=(r=(0,t.useState)(globalThis.apiLocation.includes("localhost")),o=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}}(r,o)||function(e,t){if(e){if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=s[0],p=s[1];return n().createElement("div",null,n().createElement("nav",{className:"navbar navbar-extend-sm bg-light"},n().createElement("a",{className:"navbar-brand mr-auto"},"Netdrop"),"USING"==u.state?n().createElement("div",{className:"row mr-2"},n().createElement(H,null),n().createElement(kt,{key:f?"a":"B"})):null),n().createElement("section",{className:"container-fluid p-4"},function(){if("CONNECTING"==u.state)return n().createElement(F,{key:f?"a":"B"})}(),"CONNECTING"==u.state?null:n().createElement(Pt,null),n().createElement("h5",{className:"text-danger mt-3"},u.error),n().createElement("button",{type:"button",className:"btn btn-info btn-sm",onClick:function(){p(!f),localStorage.setItem("apiLocation","https://".concat(f?"calc.world":"localhost",":5009/api/")),globalThis.apiLocation=localStorage.getItem("apiLocation"),c("CONNECTING")}},"Switch to ".concat(f?"online":"localhost"," api")),n().createElement("br",null),n().createElement(A,null)))};(0,o.render)(n().createElement(a.Provider,{store:N},n().createElement(l,null)),$("#root")[0])}))})()})();